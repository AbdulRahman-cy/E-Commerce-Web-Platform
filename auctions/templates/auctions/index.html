{% extends "auctions/layout.html" %}

{% block body %}

<style>
.listing-card {
    border: 1px solid rgba(0,0,0,.08);
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    transition: box-shadow .2s;
    cursor: pointer;
}

.listing-card:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,.08);
}

.listing-image {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 8px;
}

.price {
    color: #059669;
    font-weight: 600;
}

.meta {
    font-size: 0.9rem;
    color: #6b7280;
}
</style>

<h2 class="mb-4">Active listings</h2>

<div class="row">

    {% for listing in listings %}
        <div class="col-md-4">

            <div class="listing-card">

                {% if listing.image_url %}
                    <img src="{{ listing.image_url }}"
                         class="listing-image mb-3"
                         alt="{{ listing.title }}">
                {% else %}
                    <div class="listing-image mb-3 d-flex align-items-center justify-content-center bg-light">
                        <span class="text-muted">No image</span>
                    </div>
                {% endif %}

                <h5>{{ listing.title }}</h5>

                <p class="price mb-1">
                    ${{ listing.starting_price }}
                </p>

                <p class="meta mb-1">
                    Listed by {{ listing.owner.username }}
                </p>

                <p class="meta mb-0">
                    {{ listing.created_at|date:"M d, Y" }}
                </p>

            </div>

        </div>
    {% empty %}
        <div class="col">
            <p>No active listings.</p>
        </div>
    {% endfor %}

</div>

{% endblock %}
